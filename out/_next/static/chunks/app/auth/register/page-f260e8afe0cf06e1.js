(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8454],{67546:function(e,r,s){Promise.resolve().then(s.bind(s,61816))},61816:function(e,r,s){"use strict";s.r(r),s.d(r,{default:function(){return b}});var t=s(9268),n=s(99120),a=s(23582),o=s(83206),i=s(84070),l=s(53235),c=s(70509),d=s(76234),u=s(80970),x=s(50946),m=s(98945),h=s(86006),f=s(99329),j=function(){return(j=Object.assign||function(e){for(var r,s=1,t=arguments.length;s<t;s++)for(var n in r=arguments[s])Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n]);return e}).apply(this,arguments)},g=h.forwardRef(function(e,r){var s=j(j({},h.useContext(f.s)),e);return h.createElement("svg",j({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:r},s),h.createElement("path",{d:"M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),h.createElement("path",{d:"M16.5 14.5s-1.5 2-4.5 2-4.5-2-4.5-2",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),h.createElement("path",{d:"M15.5 9a.5.5 0 110-1 .5.5 0 010 1zM8.5 9a.5.5 0 110-1 .5.5 0 010 1z",fill:"currentColor",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))}),p=s(35846),Z=s.n(p),w=s(68919);function b(){let[e]=o.Z.useForm(),[r,{isLoading:s,isError:f,error:j,isSuccess:p}]=(0,a.l)(),b=async e=>{delete e.confirm;let s={...e,cod_rol:3};try{await r(s)}catch(e){w.toast.error("Error",e)}};return(0,h.useEffect)(()=>{if(f){var e;w.toast.error((null===(e=j.data)||void 0===e?void 0:e.msg)||"Error al registrarse")}p&&w.toast.success("\xa1Registro exitoso!")},[f,j,p]),(0,t.jsx)(i.Z,{className:"w-[38rem] flex justify-center items-center shadow-lg",children:p?(0,t.jsxs)("div",{className:"flex flex-col justify-center items-center gap-4",children:[(0,t.jsx)(g,{className:"text-green-600"}),(0,t.jsx)(m.Z.Text,{className:"font-medium text-green-600 text-xl",children:"!Registro exitoso!"}),(0,t.jsx)(m.Z.Text,{className:"text-green-600",children:"Ahora puedes iniciar sesi\xf3n"}),(0,t.jsx)(Z(),{href:"/auth/login",children:(0,t.jsx)(x.ZP,{type:"primary",children:"Iniciar Sesion"})})]}):(0,t.jsxs)(o.Z,{layout:"vertical",form:e,name:"register",onFinish:b,style:{width:550},scrollToFirstError:!0,children:[(0,t.jsx)(o.Z.Item,{name:"nombre",label:"Nombre Completo",tooltip:"\xbfC\xf3mo te llamas?",hasFeedback:!0,rules:[{required:!0,message:"\xa1Ingrese su nombre!",whitespace:!0}],children:(0,t.jsx)(l.Z,{allowClear:!0})}),(0,t.jsx)(o.Z.Item,{name:"correo",label:"Correo Electr\xf3nico",hasFeedback:!0,rules:[{type:"email",message:"\xa1La entrada no es un correo electr\xf3nico v\xe1lido!"},{required:!0,message:"\xa1Ingrese su correo electr\xf3nico!"}],children:(0,t.jsx)(l.Z,{allowClear:!0})}),(0,t.jsxs)(c.Z,{gutter:16,children:[(0,t.jsx)(d.Z,{md:12,xs:24,children:(0,t.jsx)(o.Z.Item,{name:"password",label:"Contrase\xf1a",rules:[{required:!0,message:"\xa1Ingrese su contrase\xf1a!"}],hasFeedback:!0,children:(0,t.jsx)(l.Z.Password,{})})}),(0,t.jsx)(d.Z,{md:12,xs:24,children:(0,t.jsx)(o.Z.Item,{name:"confirm",label:"Confirmar Contrase\xf1a",dependencies:["password"],hasFeedback:!0,rules:[{required:!0,message:"\xa1Por favor, confirme su contrase\xf1a!"},e=>{let{getFieldValue:r}=e;return{validator:(e,s)=>s&&r("password")!==s?Promise.reject(Error("\xa1Las dos contrase\xf1as que ingresaste no coinciden!")):Promise.resolve()}}],children:(0,t.jsx)(l.Z.Password,{})})})]}),(0,t.jsxs)(c.Z,{gutter:16,children:[(0,t.jsx)(d.Z,{md:12,xs:24,children:(0,t.jsx)(o.Z.Item,{name:"dni",label:"DNI",hasFeedback:!0,rules:[{required:!0,message:"\xa1Ingrese su DNI!"}],children:(0,t.jsx)(u.Z,{minLength:8,maxLength:8,style:{width:"100%"}})})}),(0,t.jsx)(d.Z,{md:12,xs:24,children:(0,t.jsx)(o.Z.Item,{name:"celular",label:"N\xfamero de tel\xe9fono",hasFeedback:!0,rules:[{required:!0,message:"\xa1Ingrese su n\xfamero de tel\xe9fono!"}],children:(0,t.jsx)(l.Z,{allowClear:!0,style:{width:"100%"}})})})]}),(0,t.jsxs)(c.Z,{justify:"end",align:"middle",gutter:12,children:[(0,t.jsx)(d.Z,{children:(0,t.jsx)(o.Z.Item,{children:(0,t.jsx)(n.j,{text:"Cancelar",link:"/auth"})})}),(0,t.jsx)(d.Z,{children:(0,t.jsx)(o.Z.Item,{children:(0,t.jsx)(x.ZP,{loading:s,type:"primary",htmlType:"submit",style:{width:250},children:"Registrarse"})})})]})]})})}},99120:function(e,r,s){"use strict";s.d(r,{j:function(){return i}});var t=s(9268),n=s(50946),a=s(35846),o=s.n(a);let i=e=>{let{text:r,link:s}=e;return(0,t.jsx)(o(),{href:s,children:(0,t.jsx)(n.ZP,{...e,children:r})})}},23582:function(e,r,s){"use strict";s.d(r,{l:function(){return a},t:function(){return n}});var t=s(32895);let n=(0,t.createApi)({reducerPath:"clientsApi",baseQuery:(0,t.fetchBaseQuery)({baseUrl:"http://3.86.194.103/api/v1/"}),endpoints:e=>({register:e.mutation({query:e=>({url:"usuario",method:"POST",body:e})})})}),{useRegisterMutation:a}=n},99329:function(e,r,s){"use strict";s.d(r,{s:function(){return t}});var t=s(86006).createContext({})}},function(e){e.O(0,[8779,4790,8945,2641,803,4389,545,4176,2913,5846,1452,1728,3206,4425,4070,3845,2667,8139,1744],function(){return e(e.s=67546)}),_N_E=e.O()}]);
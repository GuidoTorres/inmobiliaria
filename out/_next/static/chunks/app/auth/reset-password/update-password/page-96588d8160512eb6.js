(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3990],{22068:function(e,r,s){Promise.resolve().then(s.bind(s,88141))},88141:function(e,r,s){"use strict";s.r(r),s.d(r,{default:function(){return p}});var a=s(9268),t=s(71470),n=s(83206),o=s(84070),i=s(15834),c=s(98945),u=s(42437),l=s(53235),d=s(50946),f=s(56008),m=s(86006),h=s(68919),x=s(52641);function p(){let[e]=n.Z.useForm(),r=(0,x.useSelector)(e=>e.codePass.code),[s,{isLoading:p,isError:v,error:w,isSuccess:y,data:g}]=(0,t.a3)(),j=(0,f.useRouter)();(0,m.useEffect)(()=>{r||j.push("/auth")},[r]);let b=async e=>{try{let a={cod_recuperacion:r,password:e.password};await s(a)}catch(e){h.toast.error(e)}};return(0,m.useEffect)(()=>{if(y&&(h.toast.success(null==g?void 0:g.msg),j.push("/auth")),v){var e;h.toast.error(null===(e=w.data)||void 0===e?void 0:e.msg)}},[y,v]),(0,a.jsx)("div",{className:"flex justify-center items-center relative",children:(0,a.jsx)(o.Z,{className:"w-[23rem] shadow-lg",children:(0,a.jsxs)(i.Z,{direction:"vertical",align:"center",size:"large",children:[(0,a.jsx)(c.Z.Title,{level:3,className:"font-normal text-primary",children:"Crear nueva contrase\xf1a"}),(0,a.jsx)(u.Z,{message:"\xa1Importante!",description:"Su nueva contrase\xf1a debe ser diferente de las contrase\xf1as usadas anteriormente.",type:"info",showIcon:!0}),(0,a.jsxs)(n.Z,{layout:"vertical",form:e,name:"register",onFinish:b,initialValues:{residence:["zhejiang","hangzhou","xihu"],prefix:"86"},className:"w-80",scrollToFirstError:!0,children:[(0,a.jsx)(n.Z.Item,{name:"password",label:"Contrase\xf1a",rules:[{required:!0,message:"\xa1Ingrese su contrase\xf1a!"}],hasFeedback:!0,children:(0,a.jsx)(l.Z.Password,{})}),(0,a.jsx)(n.Z.Item,{name:"confirm",label:"Confirmar Contrase\xf1a",dependencies:["password"],hasFeedback:!0,rules:[{required:!0,message:"\xa1Por favor, confirme su contrase\xf1a!"},e=>{let{getFieldValue:r}=e;return{validator:(e,s)=>s&&r("password")!==s?Promise.reject(Error("\xa1Las dos contrase\xf1as que ingresaste no coinciden!")):Promise.resolve()}}],children:(0,a.jsx)(l.Z.Password,{})}),(0,a.jsx)(n.Z.Item,{children:(0,a.jsx)(i.Z,{direction:"vertical",size:"small",align:"center",className:"w-full",children:(0,a.jsx)(d.ZP,{loading:p,type:"primary",htmlType:"submit",style:{width:250},children:"Actualizar contrase\xf1a"})})})]})]})})})}},71470:function(e,r,s){"use strict";s.d(r,{Gt:function(){return t},S3:function(){return o},a3:function(){return i},zN:function(){return n}});var a=s(32895);let t=(0,a.createApi)({reducerPath:"passwordApi",baseQuery:(0,a.fetchBaseQuery)({baseUrl:"http://3.86.194.103/api/v1/"}),endpoints:e=>({forgotPassword:e.mutation({query:e=>({url:"usuario/recuperar",method:"POST",body:e})}),validateCode:e.query({query:e=>({url:"usuario/recuperar/codigo/".concat(e),method:"GET"})}),updatePassword:e.mutation({query:e=>({url:"usuario/cambiar/contrasenia",method:"POST",body:e})})})}),{useForgotPasswordMutation:n,useValidateCodeQuery:o,useUpdatePasswordMutation:i}=t}},function(e){e.O(0,[8779,4790,8945,2641,803,4389,545,4176,2913,1452,1728,3206,5243,4070,2955,2667,8139,1744],function(){return e(e.s=22068)}),_N_E=e.O()}]);
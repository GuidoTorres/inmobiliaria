(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9837],{90188:function(e,a,r){Promise.resolve().then(r.bind(r,70979))},70979:function(e,a,r){"use strict";r.r(a),r.d(a,{default:function(){return R}});var i=r(9268),s=r(47434),t=r(90362),o=r(98945),l=r(92951),n=r(14682),d=r(83206),c=r(53195),p=r(50946),u=r(53235),x=r(70509),m=r(76234),h=r(40994),j=r(3508),b=r(80970),g=r(35200),f=r(81145),v=r(86006),Z=r(99329),C=function(){return(C=Object.assign||function(e){for(var a,r=1,i=arguments.length;r<i;r++)for(var s in a=arguments[r])Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s]);return e}).apply(this,arguments)},w=v.forwardRef(function(e,a){var r=C(C({},v.useContext(Z.s)),e);return v.createElement("svg",C({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:a},r),v.createElement("path",{d:"M6 20h12M12 16V4m0 0l3.5 3.5M12 4L8.5 7.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))}),y=r(42301),L=r(76349),N=r(89433),k=r(5710),I=r(52641),z=r(4660),O=r(58682),_=r(68919),S=r(68232);let F=e=>{let{handleCancel:a}=e,r=(0,z.I)(),t=(0,I.useSelector)(e=>e.crud.data),o=(0,I.useSelector)(e=>e.auth.user.data),{data:Z}=(0,S.Lc)(null),[C,{isLoading:F,isError:E,error:P,isSuccess:q}]=(0,O.dX)(),[A,{isLoading:T,isError:D,error:M,isSuccess:H}]=(0,O.f2)(),[U]=d.Z.useForm(),[V,Y]=(0,v.useState)(k.dZ);(0,v.useEffect)(()=>{if(t){var e;Y({...t,cod_propietario:t.propietario.cod_propietario,nombre_propietario:t.propietario.nombre}),U.setFieldsValue({...t,cod_propietario:t.propietario.cod_propietario,nombre_propietario:t.propietario.nombre}),J(null===(e=t.imagenes)||void 0===e?void 0:e.map(e=>{var a;return{uid:e.id,save:!0,size:0,name:null===(a=e.url)||void 0===a?void 0:a.split("/").pop(),status:"done",url:e.url}}))}},[t]);let[B,R]=(0,v.useState)([]);(0,v.useEffect)(()=>{var e;R(null==Z?void 0:null===(e=Z.data)||void 0===e?void 0:e.map(e=>({key:e.cod_propietario,cod:e.cod_propietario,value:e.nombre})))},[Z]);let G=e=>{if(e){let{value:a,cod:r}=e;U.setFieldValue({cod_propietario:r||"",nombre_propietario:a||""}),Y(e=>({...e,cod_propietario:r||"",nombre_propietario:a||""}))}},X=(e,a)=>{if(!a&&e.target){let{name:a,value:r}=e.target;U.setFieldsValue({[a]:r||""}),Y(e=>({...e,[a]:r||""}))}else U.setFieldsValue({[a]:e||""}),Y(r=>({...r,[a]:e||""}))},K=e=>{let a=e.target.checked;U.setFieldsValue({propiedadHabilitada:a||!1}),Y(e=>({...e,propiedadHabilitada:a||!1}))},Q=e=>{let a=e.target.value;U.setFieldsValue({cocheraAdicional:a||!1}),Y(e=>({...e,cocheraAdicional:a||!1}))},[W,J]=(0,v.useState)([]),$=e=>{let a=e.file.size/1024/1024<5;if(a){let a=[...e.fileList.filter(e=>e.size/1024/1024<5)];J(a=a.map(e=>(e.response&&(e.url=e.response.url),e)))}else _.toast.error("La imagen debe debe pesar menos de 5MB!")},ee=async e=>{let a=new FormData;for(let r of(a.append("nombre",e.nombre||""),a.append("tipo",e.tipo||""),a.append("direccion",e.direccion||""),a.append("precio",parseFloat(e.precio)||""),a.append("descripcion",e.descripcion||""),a.append("zona",e.zona||""),a.append("estado",e.estado||""),a.append("cod_propietario",V.cod_propietario),a.append("caracteristicas",e.caracteristicas||""),a.append("cocheraAdicional",V.cocheraAdicional||!1),a.append("propiedadHabilitada",V.propiedadHabilitada||!1),a.append("metraje",parseFloat(e.metraje)||""),a.append("areaLibre",parseFloat(e.areaLibre)||""),a.append("comision",parseFloat(e.comision)||""),a.append("observaciones",e.observaciones||""),a.append("video",e.video||""),W.filter(e=>void 0===e.save)))a.append("imagen",r.originFileObj||"");try{t?(a.append("imagenes",W.filter(e=>e.save).map(e=>e.uid)||[]),await A({property:a,id:t.cod_propiedad})):(a.append("creado_por",o.cod_usuario||""),await C(a))}catch(e){_.toast.error(e)}};return(0,v.useEffect)(()=>{let e=null;if(E){var r;_.toast.error(null===(r=P.data)||void 0===r?void 0:r.msg),_.toast.dismiss(e)}q&&(_.toast.success("\xa1Propiedad registrada con \xe9xito!"),_.toast.dismiss(e),a()),F&&(e=_.toast.loading("Guardando propiedad..."))},[E,q,F]),(0,v.useEffect)(()=>{let e=null;if(D){var r;_.toast.error(null===(r=M.data)||void 0===r?void 0:r.msg),_.toast.dismiss(e)}H&&(_.toast.success("\xa1Propiedad actualizada con \xe9xito!"),_.toast.dismiss(e),a()),T&&(e=_.toast.loading("Actualizando propiedad..."))},[D,H,T]),(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(d.Z,{form:U,layout:"vertical",requiredMark:!0,onFinish:ee,autoComplete:"off",scrollToFirstError:!0,children:[(0,i.jsx)(d.Z.Item,{name:"imagen",label:(0,i.jsx)(s.L,{text:"Agregar imagenes:"}),children:(0,i.jsx)(c.Z,{beforeUpload:e=>!1,fileList:W,onChange:$,multiple:!0,accept:"image/*",listType:"picture",children:(0,i.jsx)(p.ZP,{icon:(0,i.jsx)(w,{}),className:"flex",children:"Subir imagen"})})}),(0,i.jsx)(d.Z.Item,{name:"video",value:V.zona,label:(0,i.jsx)(s.L,{text:"Link del video:"}),children:(0,i.jsx)(u.Z,{name:"video",placeholder:"Link del video",value:V.zona,onChange:X,allowClear:!0})}),(0,i.jsx)(l.Z,{}),(0,i.jsxs)(x.Z,{gutter:16,children:[(0,i.jsx)(m.Z,{lg:8,md:24,xs:24,children:(0,i.jsx)(d.Z.Item,{name:"nombre",value:V.nombre,label:(0,i.jsx)(s.L,{text:"Nombre de la propiedad:"}),hasFeedback:!0,rules:[{required:!0,message:"Ingrese el nombre de la propiedad."}],children:(0,i.jsx)(u.Z,{value:V.nombre,name:"nombre",placeholder:"Nombre de la propiedad",allowClear:!0,onChange:X})})}),(0,i.jsx)(m.Z,{lg:8,md:12,xs:24,children:(0,i.jsx)(d.Z.Item,{name:"nombre_propietario",value:V.nombre_propietario,label:(0,i.jsx)(s.L,{text:"Propietario:"}),hasFeedback:!0,rules:[{required:!0,message:"Seleccione el propietario."}],children:(0,i.jsx)(h.Z,{name:"nombre_propietario",value:V.nombre_propietario,onChange:(e,a)=>G(a),allowClear:!0,options:B,filterOption:(e,a)=>-1!==a.value.toUpperCase().indexOf(e.toUpperCase()),children:(0,i.jsx)(u.Z,{placeholder:"Buscar Propietario",prefix:(0,i.jsx)(y.Z,{})})})})}),(0,i.jsx)(m.Z,{lg:8,md:12,xs:24,children:(0,i.jsx)(d.Z.Item,{name:"tipo",label:(0,i.jsx)(s.L,{text:"Tipo de propiedad:"}),rules:[{required:!0,message:"Seleccione el tipo de propiedad."}],hasFeedback:!0,children:(0,i.jsx)(j.Z,{allowClear:!0,name:"tipo",placeholder:"Tipo de propiedad",onChange:e=>X(e,"tipo"),options:N.X})})})]}),(0,i.jsxs)(x.Z,{gutter:16,children:[(0,i.jsx)(m.Z,{xs:24,md:24,lg:8,children:(0,i.jsx)(d.Z.Item,{name:"precio",value:V.precio,label:(0,i.jsx)(s.L,{text:"Precio:"}),rules:[{required:!0,message:"Ingrese el precio."}],hasFeedback:!0,children:(0,i.jsx)(b.Z,{value:V.precio,placeholder:"Precio",className:"w-full",min:0,onChange:e=>X(e,"precio")})})}),(0,i.jsx)(m.Z,{xs:24,md:12,lg:8,children:(0,i.jsx)(d.Z.Item,{name:"direccion",value:V.direccion,label:(0,i.jsx)(s.L,{text:"Direcci\xf3n:"}),rules:[{required:!0,message:"Ingrese la direcci\xf3n."}],hasFeedback:!0,children:(0,i.jsx)(u.Z,{name:"direccion",value:V.direccion,onChange:X,placeholder:"Direcci\xf3n",allowClear:!0})})}),(0,i.jsx)(m.Z,{xs:24,md:12,lg:8,children:(0,i.jsx)(d.Z.Item,{name:"zona",value:V.zona,label:(0,i.jsx)(s.L,{text:"Zona:"}),rules:[{required:!0,message:"Ingrese la zona."}],hasFeedback:!0,children:(0,i.jsx)(u.Z,{name:"zona",value:V.zona,onChange:X,placeholder:"Zona",allowClear:!0})})})]}),(0,i.jsxs)(x.Z,{gutter:16,children:[(0,i.jsx)(m.Z,{xs:24,md:12,lg:8,children:(0,i.jsx)(d.Z.Item,{name:"estado",label:(0,i.jsx)(s.L,{text:"Asignar estado:"}),rules:[{required:!0,message:"Seleccione el estado de la propiedad."}],hasFeedback:!0,children:(0,i.jsx)(j.Z,{allowClear:!0,placeholder:"Asignar estado",options:n.p,onChange:e=>X(e,"estado")})})}),(0,i.jsx)(m.Z,{xs:24,md:12,lg:8,children:(0,i.jsx)(d.Z.Item,{name:"habilitar_propiedad",value:V.propiedadHabilitada,label:(0,i.jsx)(s.L,{text:"Habilitar / Deshabilitar propiedad"}),children:(0,i.jsx)(g.Z,{checked:V.propiedadHabilitada,onChange:K,className:V.propiedadHabilitada?"text-green-500":"text-red-500",children:V.propiedadHabilitada?"Habilitado":"Deshabilitado"})})})]}),(0,i.jsx)(l.Z,{}),(0,i.jsxs)(x.Z,{gutter:16,children:[(0,i.jsx)(m.Z,{span:24,children:(0,i.jsx)(d.Z.Item,{name:"descripcion",label:(0,i.jsx)(s.L,{text:"Descripci\xf3n:"}),rules:[{required:!0,message:"Ingrese una descripci\xf3n de la propiedad."}],hasFeedback:!0,children:(0,i.jsx)(u.Z.TextArea,{name:"descripcion",value:V.descripcion,onChange:X,autoSize:!0,placeholder:"Descripci\xf3n",allowClear:!0})})}),(0,i.jsx)(m.Z,{span:24,children:(0,i.jsx)(d.Z.Item,{name:"caracteristicas",label:(0,i.jsx)(s.L,{text:"Caracter\xedsticas:"}),rules:[{required:!0,message:"Ingrese las caracter\xedsticas de la propiedad."}],hasFeedback:!0,children:(0,i.jsx)(u.Z.TextArea,{name:"caracteristicas",value:V.caracteristicas,onChange:X,autoSize:!0,placeholder:"Caracter\xedsticas",allowClear:!0})})})]}),(0,i.jsxs)(x.Z,{gutter:16,children:[(0,i.jsx)(m.Z,{xs:24,md:12,lg:6,children:(0,i.jsx)(d.Z.Item,{name:"metraje",label:(0,i.jsx)(s.L,{text:"Metraje:"}),rules:[{required:!0,message:"Ingrese el metraje de la propiedad."}],hasFeedback:!0,tooltip:"\xbfDe cuantos metros cuadrados es su propiedad?",children:(0,i.jsx)(b.Z,{value:V.metraje,formatter:e=>"".concat(e,"m\xb2"),parser:e=>e.replace("m\xb2",""),onChange:e=>X(e,"metraje"),placeholder:"Metraje",className:"w-full",min:0})})}),(0,i.jsx)(m.Z,{xs:24,md:12,lg:6,children:(0,i.jsx)(d.Z.Item,{name:"areaLibre",label:(0,i.jsx)(s.L,{text:"\xc1rea libre:"}),rules:[{required:!0,message:"Ingrese el \xe1rea libre."}],hasFeedback:!0,tooltip:"\xbfCuantos metros cuadrados de \xe1rea libre tiene su propiedad?",children:(0,i.jsx)(b.Z,{value:V.areaLibre,formatter:e=>"".concat(e,"m\xb2"),parser:e=>e.replace("m\xb2",""),onChange:e=>X(e,"areaLibre"),placeholder:"\xc1rea libre",className:"w-full",min:0})})}),(0,i.jsx)(m.Z,{xs:24,md:12,lg:6,children:(0,i.jsx)(d.Z.Item,{name:"cocheraAdicional",label:(0,i.jsx)(s.L,{text:"Cochera adicional:"}),rules:[{required:!0,message:"Seleccione si tiene cochera adicional."}],children:(0,i.jsxs)(f.ZP.Group,{onChange:Q,value:V.cocheraAdicional,children:[(0,i.jsx)(f.ZP,{value:!0,children:"Si"}),(0,i.jsx)(f.ZP,{value:!1,children:"No"})]})})}),(0,i.jsx)(m.Z,{xs:24,md:12,lg:6,children:(0,i.jsx)(d.Z.Item,{name:"comision",label:(0,i.jsx)(s.L,{text:"Porcentaje de comisi\xf3n:"}),children:(0,i.jsx)(b.Z,{value:V.comision,formatter:e=>"".concat(e,"%"),parser:e=>e.replace("%",""),onChange:e=>X(e,"comision"),placeholder:"Porcentaje de comisi\xf3n",className:"w-full",min:0,max:100})})})]}),(0,i.jsx)(x.Z,{gutter:16,children:(0,i.jsx)(m.Z,{span:24,children:(0,i.jsx)(d.Z.Item,{name:"observaciones",label:(0,i.jsx)(s.L,{text:"Observaciones:"}),children:(0,i.jsx)(L.Z,{name:"observaciones",value:V.observaciones,onChange:X,autoSize:!0,placeholder:"Observaciones",allowClear:!0})})})}),(0,i.jsx)(l.Z,{orientation:"left",children:"Datos del agente:"}),(0,i.jsxs)(x.Z,{gutter:16,children:[(0,i.jsx)(m.Z,{xs:24,md:24,lg:8,children:(0,i.jsx)(d.Z.Item,{label:(0,i.jsx)(s.L,{text:"Nombre completo:"}),children:(0,i.jsx)(u.Z,{placeholder:"Nombre completo",readOnly:!0,value:o.nombre})})}),(0,i.jsx)(m.Z,{xs:24,md:12,lg:8,children:(0,i.jsx)(d.Z.Item,{label:(0,i.jsx)(s.L,{text:"Correo electr\xf3nico:"}),children:(0,i.jsx)(u.Z,{type:"email",placeholder:"Correo electr\xf3nico",readOnly:!0,value:o.correo})})}),(0,i.jsx)(m.Z,{xs:24,md:12,lg:8,children:(0,i.jsx)(d.Z.Item,{label:(0,i.jsx)(s.L,{text:"Celular:"}),children:(0,i.jsx)(u.Z,{placeholder:"Celular",readOnly:!0,value:o.celular})})})]}),(0,i.jsx)(d.Z.Item,{children:(0,i.jsxs)(x.Z,{gutter:[16,16],justify:"end",children:[(0,i.jsx)(m.Z,{xs:24,md:12,lg:4,justify:"end",order:r?2:1,children:(0,i.jsx)(p.ZP,{onClick:a,className:"w-full",children:"Cancelar"},"back")}),(0,i.jsx)(m.Z,{xs:24,md:12,lg:6,order:r?1:2,children:(0,i.jsx)(p.ZP,{type:"primary",loading:t?T:F,htmlType:"submit",className:"w-full",children:"Guardar propiedad"})})]})})]})})};var E=r(96230);let P=e=>{let{isModalOpen:a,handleCancel:r}=e,s=(0,I.useDispatch)(),n=(0,I.useSelector)(e=>e.crud.data),d=()=>{s((0,E.qD)()),r()};return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(t.Z,{title:(0,i.jsx)(o.Z.Title,{level:3,className:"text-center text-text-title",children:n?"Editar Propiedad":"Nueva Propiedad"}),style:{top:20},width:1e3,open:a,onCancel:d,footer:null,children:[(0,i.jsx)(l.Z,{className:"mt-0"}),(0,i.jsx)(F,{handleCancel:d})]})})};var q=r(29274),A=r(91608),T=r(39558),D=r(66625);let M=e=>{let{loading:a,columns:r,data:s}=e,t=[{title:"Descripci\xf3n",dataIndex:"descripcion",key:"descripcion",width:500,render:e=>(0,i.jsx)("p",{className:"whitespace-pre-wrap text-justify",children:e})},{title:"Caracter\xedsticas",dataIndex:"caracteristicas",key:"caracteristicas",width:500,render:e=>(0,i.jsx)("p",{className:"whitespace-pre-wrap text-justify",children:e})},{title:"Metraje",dataIndex:"metraje",metraje:"metraje",width:80,render:e=>e+" m\xb2"},{title:"\xc1rea libre",dataIndex:"areaLibre",key:"areaLibre",width:100,render:e=>e+" m\xb2"},{title:"Cochera adicional",dataIndex:"cocheraAdicional",key:"cocheraAdicional",width:150,render:e=>e?(0,i.jsx)(q.Z,{color:"green",text:"SI"}):(0,i.jsx)(q.Z,{color:"red",text:"NO"})},{title:"Observaciones",dataIndex:"observaciones",key:"observaciones",width:500,render:e=>(0,i.jsx)("p",{className:"whitespace-pre-wrap text-justify",children:e})},{title:"Porcentaje de comisi\xf3n",dataIndex:"comision",key:"comision",render:e=>e+" %"}];return(0,i.jsx)(A.Z,{loading:a,columns:r,dataSource:s,rowKey:e=>e.cod_propiedad,scroll:{x:2e3,y:"max-content"},expandable:{expandedRowRender:e=>e&&(0,i.jsx)(A.Z,{columns:t,dataSource:[{key:e.cod_propiedad,descripcion:e.descripcion,caracteristicas:e.caracteristicas,metraje:e.metraje,areaLibre:e.areaLibre,cocheraAdicional:e.cocheraAdicional,observaciones:e.observaciones,comision:e.comision}],rowKey:e=>e.key,pagination:!1}),expandIcon:e=>{let{expanded:a,onExpand:r,record:s}=e;return a?(0,i.jsx)(T.Z,{onClick:e=>r(s,e)}):(0,i.jsx)(D.Z,{onClick:e=>r(s,e)})}}})};var H=r(24294),U=r(57212),V=r(88334),Y=r(30015),B=r(97278);function R(){let e=(0,I.useDispatch)(),{data:a,isLoading:r}=(0,O.JD)(null),[t,{isLoading:o,isError:d,error:c,isSuccess:g,data:f}]=(0,O.ri)(),[Z,{isLoading:C,isError:w,error:L,isSuccess:k,data:z}]=(0,O._o)(),[S,{isError:F,error:q,isSuccess:A,data:T}]=(0,O.YW)(),[D]=(0,O.b7)(),R=a=>{try{e((0,E.qT)({data:a})),eq()}catch(e){_.toast.error(e)}},G=async e=>{try{await S(e)}catch(e){_.toast.error(e)}},X=async e=>{try{await t(e)}catch(e){_.toast.error(e)}};(0,v.useEffect)(()=>{let e=null;if(d){var a;_.toast.error(null===(a=c.data)||void 0===a?void 0:a.msg),_.toast.dismiss(e)}g&&(_.toast.success(null==f?void 0:f.msg),_.toast.dismiss(e)),o?e=_.toast.loading("Habilitando / Deshabilitando propiedad..."):_.toast.dismiss(e)},[d,g,o]);let K=async(e,a)=>{try{await Z({state:{estado:e},id:a})}catch(e){_.toast.error(e)}};(0,v.useEffect)(()=>{let e=null;if(w){var a;_.toast.error(null===(a=L.data)||void 0===a?void 0:a.msg),_.toast.dismiss(e)}k&&(_.toast.success(null==z?void 0:z.msg),_.toast.dismiss(e)),C?e=_.toast.loading("Cambiando estado de la propiedad..."):_.toast.dismiss(e)},[w,k,C]),(0,v.useEffect)(()=>{if(F){var e;_.toast.error(null===(e=q.data)||void 0===e?void 0:e.msg)}A&&_.toast.success(null==T?void 0:T.msg)},[F,A]);let Q=async(e,a)=>{try{await D({nombre:e,id:a})}catch(e){_.toast.error(e)}},W=(0,H.q$)(K,X,R,G,Q),J=(0,v.useMemo)(()=>null==a?void 0:a.data,[a]),[$,ee]=(0,v.useState)(J);(0,v.useEffect)(()=>{ee(J)},[J]);let ea={nombre:"",precio:[],orden:"",tipo:"",zona:"",estado:"",fecha:""},[er,ei]=(0,v.useState)(ea),[es,et]=(0,v.useState)(""),eo=e=>{ei({...er,nombre:e}),et(e)},el=e=>{ei({...er,nombre:e})},en=()=>{ei({...er,nombre:""}),et("")},ed=U.C,ec=U.z,[ep,eu]=(0,v.useState)([ed,ec]),ex=e=>{eu(e)},em=()=>{ei({...er,precio:ep})},eh=()=>{ei({...er,precio:[]}),eu([ed,ec])},[ej,eb]=(0,v.useState)(),eg=e=>{ei({...er,tipo:void 0===e?"":e}),eb(e)},ef=()=>{ei({...er,tipo:""}),eb("")},[ev,eZ]=(0,v.useState)(""),eC=e=>{ei({...er,zona:e}),eZ(e)},ew=e=>{ei({...er,zona:e})},ey=()=>{ei({...er,zona:""}),eZ("")},[eL,eN]=(0,v.useState)(),ek=e=>{ei({...er,estado:void 0===e?"":e}),eN(e)},eI=()=>{ei({...er,estado:""}),eN("")},[ez,eO]=(0,v.useState)(),e_=(e,a)=>{ei({...er,fecha:a}),eO(e)};(0,v.useEffect)(()=>{(()=>{let e=null==J?void 0:J.filter(e=>(""===er.nombre||-1!==e.nombre.toLowerCase().indexOf(er.nombre.toLowerCase()))&&(0===er.precio.length||!(e.precio<er.precio[0])&&!(e.precio>er.precio[1]))&&(""===er.tipo||e.tipo===er.tipo)&&(""===er.zona||-1!==e.zona.toLowerCase().indexOf(er.zona.toLowerCase()))&&(""===er.estado||e.estado===er.estado)&&(""===er.fecha||(null==e?void 0:e.createdAt)===er.fecha));ee(e)})()},[er,J]);let eS=()=>{eg(),eC(),ek(),e_(),ei({...ea,nombre:er.nombre,precio:er.precio})},eF=null==J?void 0:J.map(e=>({value:e.nombre})),eE=null==J?void 0:J.reduce((e,a)=>{let r=e.find(e=>e.zona===a.zona);return r?r.values.push(a.value):e.push({zona:a.zona,values:[a.value]}),e},[]).map(e=>({value:e.zona})),{isModalOpen:eP,handleOpen:eq,handleCancel:eA}=(0,V.d)();return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"flex flex-col gap-8",children:[(0,i.jsx)(x.Z,{gutter:[16,16],align:"middle",justify:"end",children:(0,i.jsx)(m.Z,{xs:24,md:12,lg:8,className:"flex justify-end",children:(0,i.jsx)(p.ZP,{className:"w-56",type:"primary",onClick:eq,children:"Nueva propiedad"})})}),(0,i.jsxs)(x.Z,{gutter:[16,16],align:"middle",children:[(0,i.jsx)(m.Z,{span:24,children:(0,i.jsx)(h.Z,{allowClear:!0,filterOption:(e,a)=>-1!==a.value.toUpperCase().indexOf(e.toUpperCase()),className:"w-full",value:es,onChange:eo,onSelect:el,onClear:en,options:eF,children:(0,i.jsx)(u.Z,{type:"text",prefix:(0,i.jsx)(y.Z,{}),placeholder:"Buscar propiedades..."})})}),(0,i.jsx)(m.Z,{span:24,children:(0,i.jsxs)(x.Z,{className:"flex items-center border rounded-md p-1 m-1",gutter:16,children:[(0,i.jsx)(m.Z,{xs:24,md:6,lg:6,children:(0,i.jsx)(s.L,{text:"Buscar por precio"})}),(0,i.jsx)(m.Z,{xs:24,md:14,lg:14,children:(0,i.jsxs)("div",{className:"w-full flex flex-col",children:[(0,i.jsxs)("div",{className:"w-full flex justify-between",children:[(0,i.jsx)("span",{className:"text-gray-400 text-xs italic",children:(0,i.jsx)(b.Z,{size:"small",value:ep[0],onChange:e=>{eu([e,ep[1]])},min:ed,max:ep[1]})}),(0,i.jsx)("span",{className:"text-gray-400 text-xs italic",children:(0,i.jsx)(b.Z,{size:"small",value:ep[1],onChange:e=>{eu([ep[1],e])},min:ep[0],max:ec})})]}),(0,i.jsx)(Y.Z,{step:1e3,range:!0,defaultValue:[ep[0],ep[1]],value:[ep[0],ep[1]],min:ed,max:ec,onChange:ex})]})}),(0,i.jsxs)(m.Z,{xs:24,md:4,lg:4,className:"flex gap-2",children:[(0,i.jsx)(p.ZP,{onClick:em,className:"border-primary hover:bg-primary hover:text-white",children:"Aplicar"}),(0,i.jsx)(p.ZP,{onClick:eh,children:"Reiniciar"})]})]})})]}),(0,i.jsx)(l.Z,{className:"m-0",children:"Filtros"}),(0,i.jsxs)(x.Z,{gutter:[32,16],justify:"center",children:[(0,i.jsx)(m.Z,{xs:24,md:12,lg:6,children:(0,i.jsx)(j.Z,{value:ej,className:"w-full",placeholder:"Tipo de propiedad",options:N.X,onChange:eg,allowClear:!0,onClear:ef})}),(0,i.jsx)(m.Z,{xs:24,md:12,lg:6,children:(0,i.jsx)(h.Z,{allowClear:!0,filterOption:(e,a)=>-1!==a.value.toUpperCase().indexOf(e.toUpperCase()),className:"w-full",options:eE,value:ev,onChange:eC,onSelect:ew,onClear:ey,children:(0,i.jsx)(u.Z,{type:"text",prefix:(0,i.jsx)(y.Z,{}),placeholder:"Buscar zona..."})})}),(0,i.jsx)(m.Z,{xs:24,md:12,lg:6,children:(0,i.jsx)(j.Z,{placeholder:"Estado",value:eL,className:"w-full",options:n.p,onChange:ek,allowClear:!0,onClear:eI})}),(0,i.jsx)(m.Z,{xs:24,md:12,lg:6,children:(0,i.jsx)(B.Z,{onChange:e_,value:ez,placeholder:"Fecha",className:"w-full",format:"DD/MM/YYYY"})}),(0,i.jsx)(m.Z,{xs:24,md:12,lg:6,className:"flex justify-center",children:(0,i.jsx)(p.ZP,{onClick:eS,className:"hover:bg-primary hover:text-white",children:"Limpiar filtros"})})]}),(0,i.jsx)(l.Z,{className:"m-0"}),(0,i.jsx)("div",{children:(0,i.jsx)(M,{loading:r,columns:W,data:$})})]}),eP&&(0,i.jsx)(P,{isModalOpen:eP,handleCancel:eA})]})}},57212:function(e,a,r){"use strict";r.d(a,{C:function(){return i},z:function(){return s}});let i=1e4,s=1e6},89433:function(e,a,r){"use strict";r.d(a,{X:function(){return i}});let i=[{label:"Casa",value:"casa"},{label:"Departamento",value:"departamento"},{label:"Terreno",value:"terreno"},{label:"Oficina",value:"oficina"},{label:"Local",value:"local"},{label:"Local Internacional",value:"local_internacional"}]},68232:function(e,a,r){"use strict";r.d(a,{Lc:function(){return l},NN:function(){return p},V7:function(){return c},Zw:function(){return n},jm:function(){return o},sN:function(){return d}});var i=r(32895),s=r(86902),t=r.n(s);let o=(0,i.createApi)({reducerPath:"ownersApi",baseQuery:(0,i.fetchBaseQuery)({baseUrl:"http://3.86.194.103/api/v1/"}),refetchOnMountOrArgChange:!0,refetchOnFocus:!0,refetchOnReconnect:!0,tagTypes:["owners"],endpoints:e=>({getOwners:e.query({query:()=>({url:"propietario",method:"GET"}),providesTags:["owners"]}),createOwner:e.mutation({query:e=>({url:"propietario",method:"POST",body:e}),invalidatesTags:["owners"]}),updateOwner:e.mutation({query:e=>{let{owner:a,id:r}=e;return{url:"propietario/".concat(r),method:"PUT",body:a}},invalidatesTags:["owners"]}),deleteOwner:e.mutation({query:e=>({url:"propietario/".concat(e),method:"DELETE"}),invalidatesTags:["owners"]}),downloadOwners:e.query({query:()=>({url:"propietario/descargar",method:"GET",responseType:"blob",responseHandler:async e=>{let a=await e.blob(),r=URL.createObjectURL(a),i=document.createElement("a");i.href=r,i.setAttribute("download","Propietarios_".concat(t()().format("YYYY-MM-DD-HH-mm-ss"),".xlsx")),i.setAttribute("target","_blank"),document.body.appendChild(i),i.click()},cache:"no-cache"})})})}),{useGetOwnersQuery:l,useCreateOwnerMutation:n,useUpdateOwnerMutation:d,useDeleteOwnerMutation:c,useLazyDownloadOwnersQuery:p}=o}},function(e){e.O(0,[8779,4790,8945,2641,803,4389,545,4176,4059,2229,3750,1452,1728,3206,4425,638,5243,3933,9833,2005,7278,15,3195,5377,4294,2667,8139,1744],function(){return e(e.s=90188)}),_N_E=e.O()}]);